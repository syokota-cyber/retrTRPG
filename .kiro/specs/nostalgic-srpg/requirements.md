# 要件文書

## 概要

懐かしRPGは、ターン制の移動型商圏陣取り合戦シミュレーションゲームです。プレイヤーはマップ上で営業担当者を移動させ、戦略的に取扱店舗を増やし、商品の流通網拡大を目指します。昔懐かしいシミュレーションゲームの魅力を現代に蘇らせることを目指します。

## 要件

### 要件1

**ユーザーストーリー:** プレイヤーとして、マップ上でキャラクターを移動させたいので、戦略的な位置取りができるようになりたい

#### 受入基準

1. WHEN プレイヤーがキャラクターを選択 THEN システムは移動可能範囲をハイライト表示 SHALL する
2. WHEN プレイヤーが移動可能範囲内をクリック THEN キャラクターはその位置に移動 SHALL する
3. WHEN キャラクターが移動完了 THEN システムは移動可能範囲のハイライトを解除 SHALL する
4. IF キャラクターが既に移動済み THEN システムは再移動を禁止 SHALL する

### 要件2

**ユーザーストーリー:** プレイヤーとして、ターン制でバトルを行いたいので、順番に行動できるようになりたい

#### 受入基準

1. WHEN バトル開始時 THEN システムは各キャラクターの素早さに基づいて行動順序を決定 SHALL する
2. WHEN キャラクターのターン開始時 THEN システムは現在のアクティブキャラクターを明確に表示 SHALL する
3. WHEN プレイヤーが行動完了 THEN システムは次のキャラクターにターンを移行 SHALL する
4. WHEN 全キャラクターの行動完了 THEN システムは新しいターンを開始 SHALL する

### 要件3

**ユーザーストーリー:** プレイヤーとして、取扱店舗を増やしたいので、既存店舗との契約交渉ができるようになりたい

#### 受入基準

1. WHEN キャラクターが未契約店舗に隣接 THEN システムは契約交渉コマンドを有効化 SHALL する
2. WHEN プレイヤーが契約交渉を選択 THEN システムは交渉可能な店舗をハイライト表示 SHALL する
3. WHEN 契約交渉を実行 THEN システムは成功判定を行い、成功時に取扱店舗として確保 SHALL する
4. IF 他社が既に契約している店舗 THEN システムは契約奪取の競争判定を発生させる SHALL する

### 要件4

**ユーザーストーリー:** プレイヤーとして、営業担当者の成長を楽しみたいので、契約成功による経験値と営業レベルアップシステムが欲しい

#### 受入基準

1. WHEN 取扱店舗契約が成功 THEN システムは経験値を付与 SHALL する
2. WHEN 経験値が必要値に達する THEN システムは自動的にレベルアップを実行 SHALL する
3. WHEN レベルアップ時 THEN システムはステータス（営業力、交渉力、信頼度等）を向上 SHALL する
4. WHEN レベルアップ時 THEN システムはレベルアップ通知を表示 SHALL する

### 要件5

**ユーザーストーリー:** プレイヤーとして、多様な戦略を楽しみたいので、異なる営業タイプやスキルを持つ営業担当者が欲しい

#### 受入基準

1. WHEN キャラクター作成時 THEN システムは複数の営業タイプ（新規開拓、既存深耕、競合奪取等）から選択可能にする SHALL する
2. WHEN 営業タイプ選択時 THEN システムはタイプ固有のステータス補正を適用 SHALL する
3. WHEN キャラクターがレベルアップ THEN システムは営業タイプに応じたスキル習得判定を行う SHALL する
4. IF キャラクターが特定条件を満たす THEN システムは上位営業タイプへの転向を可能にする SHALL する

### 要件6

**ユーザーストーリー:** プレイヤーとして、営業ツールや販促物で戦略性を高めたいので、営業支援アイテム管理システムが欲しい

#### 受入基準

1. WHEN キャラクターが高品質サンプルを携帯 THEN システムは契約成功率にボーナスを適用 SHALL する
2. WHEN キャラクターが販促ツールを使用 THEN システムは交渉力にボーナスを適用 SHALL する
3. WHEN プレイヤーが特殊アイテムを使用 THEN システムは対応する効果（信頼度向上等）を実行 SHALL する
4. WHEN アイテム使用後 THEN システムは消耗品の場合はインベントリから削除 SHALL する

### 要件7

**ユーザーストーリー:** プレイヤーとして、ゲームの進行状況を保存したいので、セーブ・ロード機能が欲しい

#### 受入基準

1. WHEN プレイヤーがセーブを実行 THEN システムは現在のゲーム状態を保存 SHALL する
2. WHEN プレイヤーがロードを実行 THEN システムは保存されたゲーム状態を復元 SHALL する
3. WHEN セーブデータが存在しない THEN システムは新規ゲーム開始を促す SHALL する
4. IF セーブ・ロード処理でエラー発生 THEN システムは適切なエラーメッセージを表示 SHALL する